(function(){function t(e,r,n){function i(a,u){if(!r[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return i(r||t)},l,l.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}return t})()({1:[function(t,e,r){"use strict";var n=t("./lib/urlUtils").url;var i=t("./lib/utilityFunctions");var o=t("./lib/jsonp").jsonp;var a={};var u="//pc.mobad.ijinshan.com/pc/?sdkt=3";var s=[];var c,l;function f(t,e){var r=t.adinfos,n=t.uuid||"",o=t.sysn||7,a=t.syst||0,c=t.brow||15,l=t.uit||"",f=t.timeout||2e3;u+="&uuid="+n+"&sysn="+o+"&syst="+a+"&brow="+c+"&uit="+l;i.forEach(r,function(t,e){s.push(u+"&mid="+e+"&placeid="+t.placeid+"&adcount="+t.adcount)});p(e,r,f)}function p(t,e,r){var i=s.shift();o(i,{charset:"utf-8",returnType:"jsonp",timeout:r,onComplete:function u(r){var o=n(i).getParam("mid");var u=e[o]&&e[o].callback;if(r&&r.length&&r.length>0){d(r,o)}else if(r&&r.list){d(r.list,o);c=r.comrp;l=r.rpurl}if(u&&typeof u=="function"){u(a[o])}if(s.length>0){p(t,e)}else{if(typeof t=="function"){t(a)}}},onException:function f(){console.error("get data error");var r=n(i).getParam("mid");var o=e[r]&&e[r].callback;if(o&&typeof o=="function"){o(a[r])}if(s.length>0){p(t,e)}else{if(typeof t=="function"){t(a)}}}})}function d(t,e){var r=t;i.forEach(r,function(t){var r=t.placeid,n=t.ads;if(!a[e]){a[e]={}}if(!a[e][r]){a[e][r]=n}else{console.error("repeat placeid")}})}function h(t){for(var e=0;e<t.length;e++){var r=new Image;r.onload=function(t){};r.src=t[e]}}function m(t){var e=[];i.forEach(t,function(t){var r=t.split("-");var n=y(r,"imp");if(n.length){i.forEach(n,function(t){e.push(t)})}else{console.error("can not find track url:",r)}});if(c&&l){g(e,"imp")}else{g(e)}}function v(t){var e=[];var r=t.split("-");var n=y(r,"click");if(n.length){i.forEach(n,function(t){e.push(t)})}else{console.error("can not find track url:",r)}g(e)}function y(t,e){if(t.length!=4){console.error("track url params error:",t);return}var r=t[0],n=t[1],o=t[2],u=t[3],s=e=="click"?"click_tracking":"imp_tracking",f=[];var p=a[r][n];i.forEach(p,function(t){if(t.adid==o){if(c&&l&&e=="imp"){var r=t["imprp"];f.push(r)}else{var n=t[s];i.forEach(n,function(t){if(t.indexOf("?")>0){t+="&seq="+u}else{t+="?seq="+u}f.push(t)})}}});return f}function g(t,e){if(t.length==0){console.log("no track urls");return}if(e=="imp"){var r=t.splice(0,10);b(r,e);if(t.length!=0){setTimeout(function(){g(t,e)},100)}}else{var r=t.shift();b(r);if(t.length!=0){setTimeout(function(){g(t)},50)}}}function b(t,e){if(e=="imp"){var r="";if(t.length){var n=document.createElement("iframe"),i=document.createElement("form"),o=(new Date).getTime(),a=document;i.id="form_imp_"+o;i.setAttribute("action",l);i.setAttribute("target","ifr_imp_"+o);i.setAttribute("method","post");i.setAttribute("style","display: none;");r+='<input type="text" name="comrp" value="'+c+'" />';r+='<input type="text" name="imprp" value="'+t.join("|")+'" />';i.innerHTML=r;document.body.appendChild(i);n.id="ifr_imp_"+o;n.setAttribute("name","ifr_imp_"+o);n.setAttribute("style","display: none;");document.body.appendChild(n);n.onload=function(){console.log("iframe loaded");a.body.removeChild(n);a.body.removeChild(i)};i.submit()}}else{var u=new Image;u.onload=function(e){console.log("url report success:",t)};u.src=t}}var _={fetchOrionAds:f,trackImpression:m,thirdTrackImpression:h,trackClick:v};window["ORION-ADS-PLUGIN"]=_},{"./lib/jsonp":2,"./lib/urlUtils":3,"./lib/utilityFunctions":4}],2:[function(t,e,r){"use strict";var n=t("./utilityFunctions");var i=t("./urlUtils").url;function o(t,e){a(t,e);var r=t.urls;var n,i=r.length;for(n=0;n<i;n++){var o=document.createElement("script");o.src=r[n].url;o.charset=r[n].charset;o.onload=o.onerror=o.onreadystatechange=function(){if(o&&o.readyState&&o.readyState!="loaded"&&o.readyState!="complete"){return}e.script_loaded_num++;o.onload=o.onreadystatechange=o.onerror=null;if(!1!==t.isRemove){o.src="";o.parentNode.removeChild(o)}o=null};document.getElementsByTagName("head")[0].appendChild(o)}}function a(t,e){var r=t.urls;var n=t.GET;var o,a=r.length;var u,s,c;for(o=0;o<a;o++){c=window.parseInt(Math.random()*1e8);s=i(r[o].url);for(u in n){if(t.noencode==true){s.setParam(u,n[u])}else{s.setParam(u,encodeURIComponent(n[u]))}}if(t.returnType=="jsonp"){var l=s.getParam("cb")||"callback_"+c;var f="script_callbackes."+l;s.setParam("cb",f);if(!window.script_callbackes){window.script_callbackes=[]}window.script_callbackes[l]=function(r){e.is_loadcomplete=true;delete window.script_callbackes[l];if(e.timeout_flag!=null){clearTimeout(e.timeout_flag)}if(e.is_timeout){return}if(t.onComplete!=null){t.onComplete(r)}}}r[o].url=s.toString();r[o].charset=r[o].charset||t.charset}}function u(t,e){var r={isRemove:!0,urls:[],charset:"utf-8",noreturn:false,noencode:false,returnType:"",timeout:-1,POST:{},GET:{},onComplete:null,onException:null};var i={script_loaded_num:0,is_timeout:false,is_loadcomplete:false,script_var_arr:[],timeout_flag:null};r.urls=typeof t=="string"?[{url:t}]:t;n.extend(r,e);o(r,i);if(r.timeout>0){i.timeout_flag=setTimeout(function(){if(i.is_loadcomplete!=true){if(r.onException!=null){r.onException()}i.is_timeout=true}},r.timeout)}}e.exports.jsonp=function(t,e){new u(t,e)}},{"./urlUtils":3,"./utilityFunctions":4}],3:[function(t,e,r){"use strict";var n=function i(t){t=t||"";this.url=t;this.query={};this.parse()};n.prototype={parse:function o(t){if(t){this.url=t}this.parseAnchor();this.parseParam()},parseAnchor:function a(){var t=this.url.match(/\#(.*)/);t=t?t[1]:null;this._anchor=t;if(t!=null){this.anchor=this.getNameValuePair(t);this.url=this.url.replace(/\#.*/,"")}},parseParam:function u(){var t=this.url.match(/\?([^\?]*)/);t=t?t[1]:null;if(t!=null){this.url=this.url.replace(/\?([^\?]*)/,"");this.query=this.getNameValuePair(t)}},getNameValuePair:function s(t){var e={};t.replace(/([^&=]*)(?:\=([^&]*))?/gim,function(t,r,n){if(r==""){return}e[r]=n||""});return e},getParam:function c(t){return this.query[t]||""},clearParam:function l(){this.query={}},setParam:function f(t,e){if(t==null||t==""||typeof t!="string"){throw new Error("no param name set")}this.query=this.query||{};this.query[t]=e},setParams:function p(t){this.query=t},serialize:function d(t){var e=[];for(var r in t){if(t[r]==null||t[r]==""){e.push(r+"=")}else{e.push(r+"="+t[r])}}return e.join("&")},toString:function h(){var t=this.serialize(this.query);return this.url+(t.length>0?"?"+t:"")+(this.anchor?"#"+this.serialize(this.anchor):"")},getHashStr:function m(t){return this.anchor?"#"+this.serialize(this.anchor):t?"#":""}};e.exports.url=function(t){return new n(t)}},{}],4:[function(t,e,r){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=1;var o=/[A-Z]/g;var a=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i;var u=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function s(){}function c(t){return t===null}function l(t){return t!==undefined}function f(t){return t===undefined}function p(t){return(typeof t==="undefined"?"undefined":n(t))==="object"}function d(t){return typeof t==="function"}function h(t){return typeof t==="number"}function m(t){return V.isObject(t)&&t.window===t}function v(t){return Object.prototype.toString.call(t)==="[object Array]"}function y(t){if(t===null||V.isWindow(t)||V.isFunction(t)||V.isUndefined(t)){return false}var e=t.length;if(t.nodeType===i&&e){return true}return V.isString(t)||V.isArray(t)||e===0||typeof e==="number"&&e>0&&e-1 in t}function g(t){return typeof t==="string"}function b(t){return V.isString(t)&&t.length===0}function _(t){return V.isString(t)&&t.length!==0}function w(t){return Array.prototype.slice.call(t)}function E(t,e,r){var i,o;if(t){if(d(t)){for(i in t){if(i!=="prototype"&&i!=="length"&&i!=="name"&&(!t.hasOwnProperty||t.hasOwnProperty(i))){e.call(r,t[i],i,t)}}}else if(v(t)){var a=(typeof t==="undefined"?"undefined":n(t))!=="object";for(i=0,o=t.length;i<o;i++){if(a||i in t){e.call(r,t[i],i,t)}}}else if(t.forEach&&t.forEach!==E){t.forEach(e,r,t)}else{for(i in t){if(t.hasOwnProperty(i)){e.call(r,t[i],i,t)}}}}return t}function A(t,e){e=e||"_";return t.replace(o,function(t,r){return(r?e:"")+t.toLowerCase()})}function P(t){if(!V.isString(t)){return false}return a.test(t.trim())}function k(t){var e,r,n;for(r=1;r<arguments.length;r++){e=arguments[r];for(n in e){if(e.hasOwnProperty(n)){if(p(t[n])&&!c(t[n])&&p(e[n])){t[n]=k({},t[n],e[n])}else{t[n]=e[n]}}}}return t}function S(t){return t.charAt(0).toUpperCase()+t.slice(1)}function x(t){return t.charAt(0).toLowerCase()+t.slice(1)}function T(t,e){var r=[];t.forEach(function(t,n){var i=e(t,n);if(V.isDefined(i)){r.push(i)}});return r}function N(t,e){var r=t+"";e=V.isNumber(e)?e:0;t=V.isNumber(t)?t:parseInt(t,10);if(V.isNumber(t)&&!isNaN(t)){r=t+"";while(r.length<e){r="0"+r}return r}return NaN+""}function O(t,e){var r=(new Date).getTime()-(e+1);return function(){var n=(new Date).getTime();if(n-r>=e){r=n;t.apply(this,arguments)}}}function I(t,e){var r;return function(){if(r){clearTimeout(r)}r=setTimeout(function(){t.apply(this,arguments);r=undefined},e)}}function j(t,e,r){var n=e(t);for(var i=0;i<n.length;i++){if(r(n[i])){return n[i]}else{var o=j(n[i],e,r);if(o){return o}}}}function C(t){return function(){return t}}function U(t){if(V.isNumber(t)){t=t+""}if(!V.isString(t)){return false}return u.test(t.trim())}function q(){var t=V.getInternetExplorerVersion(navigator);if(t===-1){return false}return t<10}function z(t){var e=-1;if(t.appName=="Microsoft Internet Explorer"){var r=t.userAgent;var n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");var i=n.exec(r);if(i!==null){e=parseFloat(i[1])}}return e}function D(){return/iP(hone|ad)/.test(V._UA)}function F(){return/iP(hone|ad|od)|Android|Windows Phone/.test(V._UA)}function L(){return/iP(hone|od)/.test(V._UA)}function M(){return/Android/.test(V._UA)}var V={_UA:navigator.userAgent,noop:s,isNull:c,isDefined:l,isUndefined:f,isObject:p,isFunction:d,isNumber:h,isWindow:m,isArray:v,isArrayLike:y,isString:g,isEmptyString:b,isNotEmptyString:_,arrayLikeObjToArray:w,forEach:E,snake_case:A,isValidEmail:P,extend:k,capitalize:S,decapitalize:x,transformArray:T,toFixedDigits:N,throttle:O,debounce:I,treeSearch:j,echoFn:C,isISO8601:U,isOldIE:q,getInternetExplorerVersion:z,isIDevice:D,isMobile:F,isIPhone:L,isAndroid:M};e.exports=V},{}]},{},[1]);
//# sourceMappingURL=orion-pcad-sdk-0.0.3.min.js.map
