/* home 2018-10-22T16:22:59+0800 */
var themeAdLeft=[],themeSetObj={toggleSkin:function(){var a=$(".J_ico_themes");if(0==$("#frame_style").length){themeSetObj.toggleSkin.v=a.html();var b=DUBA.isHttps?type="?type=https":"?";b+=DUBA.curr_ver;var c='<div id="style_box"><iframe height="255" id="frame_style" width="1000" frameborder="0" src="/skin.html'+b+'" scrolling="no" onload="__load()"></iframe></div>';$("#J_FloorWrap").length>0?$(c).insertAfter($("#J_FloorWrap")):$("body").prepend(c),$("#style_box").css("height","255px")}if(themeSetObj.toggleSkin.height){if(a.html(themeSetObj.toggleSkin.v),$.browser.msie&&"6.0"==$.browser.version){var d=$(".side_bar")[0];d.style.cssText=""}}else{if($.browser.msie&&"6.0"==$.browser.version){var d=$(".side_bar")[0];d.style.bottom="300px",d.style.setExpression("top","document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight-350-(parseInt(this.currentStyle.marginTop, 10)||0)-(parseInt(this.currentStyle.marginBottom, 10)||0)","JavaScript")}a.html("<em></em>收起")}if(window.__load=function(){window.__ifrload=!0},themeSetObj.toggleSkin.height)$("#style_box").css("height",0),themeSetObj.toggleSkin.height=!1;else{$("#style_box").css("height",255),themeSetObj.toggleSkin.height=!0;var e=$("#J_FloorWrap"),f=e.length>0&&e.is(":visible");f&&$("#J_floor2Anchor").trigger("click")}if(window.__ifrload){var g=$cookie("theme1")&&$cookie("theme1").split("|")||[],h=g&&g[1]&&g[1].split(",")||[],i=$("#frame_style")[0].contentWindow;$.each(i.styleModule.imgMap,function(a,b){(h&&void 0===h[1]||!h)&&$(i.document).find("[t=normal]").addClass("current"),h&&h[1]&&b.bg==h[1]&&($(i.document).find("#themeSels li").removeClass("current"),$(i.document).find("#themeSingle li").removeClass("current"),$(i.document).find("[t="+a+"]").addClass("current"))})}},setWeatherAutoSwitch:function(a){if(($cookie("theme1")&&window.todayWeather&&!($("#style_box").height()>0)&&"weatherAuto"==$cookie("theme1").split("|")[0]||a)&&(!(window.ggSkinObj&&"tmall"!=window.ggSkinObj.skintype&&$cookie("theme1")&&$cookie("theme1").split("|")[2]<window.ggSkinObj.startt&&!$cookie("closeSkinAd")||a)||a)){var b,c,d,e=new Date,f=e.getHours(),g="/static/v2/images/skin/";"多云"==window.todayWeather||"阴"==window.todayWeather?(b="weather-clouds.png ",c="color_darkgrey"):window.todayWeather.indexOf("雾")>-1||window.todayWeather.indexOf("霾")>-1?(b="weather-fog.png ",c="color_darkgrey"):window.todayWeather.indexOf("雪")>-1?(b="weather-snow.png ",c="color_white tqpf_dark"):window.todayWeather.indexOf("雨")>-1?(b="rain.png",c="color_darkgrey"):6>f&&f>0||24>f&&f>17?(b="evening.png",c="color_white tqpf_dark",d="color_darkgrey"):(b="morning.png",c="color_darkgrey"),$("#wrapper").css("background","none").attr("class",c),$("#main").css("background"," url("+g+b+") no-repeat center top")}},setTheme:function(a){var b={strToJsonStr:function(a){var b=a;return b=b.replace(/{/g,'{"'),b=b.replace(/:/g,'":"'),b=b.replace(/(http|https)+"(:)"/g,"$1$2"),b=b.replace(/,/g,'","'),b=b.replace(/}","/g,"},"),b=b.replace(/}/g,'"}'),b=b.replace(/\s/g,"")},init:function(){themeSetObj.setCurrent=b.setCurrent,window.ggSkinObj&&window.ggSkinObj.url&&"tmall"!=window.ggSkinObj.skintype&&!$cookie("closeSkinAd")?$cookie("theme1")&&$cookie("theme1").split("|")[1]&&$cookie("theme1").split("|")[2]&&$cookie("theme1").split("|")[2]>window.ggSkinObj.startt?"weatherAuto"==$cookie("theme1").split("|")[0]?(setTimeout(themeSetObj.setWeatherAutoSwitch,2e3),setInterval(themeSetObj.setWeatherAutoSwitch,24e4)):themeSetObj.setCurrent($cookie("theme1")):(themeSetObj.setCurrent(window.ggSkinObj,!0),$(window).resize(function(){var a=$(".bgOpen");if(a.length){var b,c,d,e=$(document).find(".inner").eq(0).offset().left;a.each(function(a,f){c=$(this),b=c.width(),d=$(f).hasClass("bgOpenLeft")?"left":"right","right"==d?c.css(d,e-themeAdLeft[a].left-themeAdLeft[a].width):c.css(d,e-themeAdLeft[a].right-themeAdLeft[a].width)})}})):$cookie("theme1")&&$cookie("theme1").split("|")[1]&&("weatherAuto"==$cookie("theme1").split("|")[0]?(setTimeout(themeSetObj.setWeatherAutoSwitch,2e3),setInterval(themeSetObj.setWeatherAutoSwitch,24e4)):themeSetObj.setCurrent($cookie("theme1")))},setCurrent:function(a,c){if(c)b.renderSkinToBody(a);else{var d=a.split("|"),e="/static/v2/iframe/images/skin/big/",f={},g=d[0]||"",h=d[1].split(",")||[];if(h.length<2)return;h[3].indexOf("/static")>-1?wrapBg=h[3]:wrapBg=e+h[3],h[1].indexOf("/static")>-1?mainBg=h[1]:mainBg=e+h[1],$("body").addClass(g),f={style:{skincolor:h[0]||"",bg:mainBg||"",rebg:wrapBg||"",color:h[2]||"",repeat:h[5]||"",regBcolor:h[4]||""},url:h[6]||"",cid:h[7]||"",point_left:{height:h[9]||"",width:h[8]||"",top:h[10]||""},point_right:{height:h[11]||"",width:h[12]||"",top:h[13]||""},callback:h[14]||""},b.renderSkinToBody(f)}},createFlagBlock:function(a,b,c){var d=$(document).find(".inner").eq(0).offset(),e=($(document).find("#main").width(),"point_"+b),f=document.createElement("a");f.style.cssText="background:url(/static/v2/images/blank.gif) no-repeat;position:absolute;"+b+":"+(a[e].width?d.left-a[e].width:"0")+"px;height:"+(a[e].height?a[e].height:"3000")+"px;top:"+(a[e].top?a[e].top:"25")+"px;width:"+(a[e].width?a[e].width:d[b])+"px;",f.className="bgOpen",f.setAttribute("href",a.url),f.setAttribute("w","skin"+b),f.setAttribute("cid",a.cid||""),c(f)},renderSkinToBody:function(a){window.currentSkinMap=a,$("#main").css("background",a.style.color+"  url("+a.style.bg+") no-repeat center top"),$(document).find(".bgOpen").remove();var c=b.strToJsonStr(a.adArray),d=[];try{d=$.parseJSON(c)}catch(e){}var f=[];themeAdLeft=[];for(var g=$(document).find(".inner").eq(0).offset().left,h=0;h<d.length;h++){var i=d[h].left?"bgOpenRight":"bgOpenLeft",j="inherit",k="inherit",l={};"bgOpenRight"==i?(l.left=parseInt(d[h].left),l.right=0,l.width=parseInt(d[h].width),j=g-parseInt(d[h].left)-parseInt(d[h].width)+"px",themeAdLeft.push(l)):(l.left=0,l.right=parseInt(d[h].right),l.width=parseInt(d[h].width),k=g-parseInt(d[h].right)-parseInt(d[h].width)+"px",themeAdLeft.push(l)),f.push('<a class="bgOpen '+i+'" href="'+d[h].adlink+'" w="'+d[h].skin_w_name+'" cid="'+(a.cid||"")+'"  shuang11="'+(d[h].shuang11||"")+'" style="background: url(/static/v2/images/blank.gif) no-repeat; position: absolute; left: '+k+";right: "+j+"; height: "+d[h].height+"; top: "+d[h].top+"; width: "+d[h].width+';"></a>')}f=f.join(""),$(document).find("#main").append(f),window[a.callback]&&window[a.callback]()},appendEle:function(a){a&&$(document).find("#main").append(a)}};b.init()}};